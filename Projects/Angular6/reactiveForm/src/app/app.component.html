<!-- main app container -->
<div class="jumbotron">
    <div class="container">
        <div class="row">
            <div class="col-md-6 offset-md-3">
                    <h3>Angular 6 Reactive Form Validation</h3>
                    <p></p>

                    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

                    <div class="form-group" >
                        <ul>
                            <li *ngFor="let error of errors">
                                {{ error }}
                            </li>
                        </ul>
                    </div>
                    
                    <div class="form-group">
                        <label>Subscription Type</label>
                        <select id="subscription" name="subscription" formControlName="subscriptionControl" class="form-control select-lg" (change)="subscriptionChange($event.target.value)" >
                            <option *ngFor="let subscription of subscriptions" [value]="subscription"> 
                            {{ subscription }} 
                            </option>
                        </select>
                    </div>
            
                    <div class="form-group">
                        <label>Email</label>
                        <input type="text" formControlName="email" class="form-control" (blur)="emailLostFocus()" [ngClass]="{ 'is-invalid': emailIsDirty && f.email.errors }" [(ngModel)]="email"/>
                        <div *ngIf="emailIsDirty && f.email.errors" class="invalid-feedback">
                            <div *ngIf="emailIsDirty && f.email.errors.required">Email is required</div>
                            <div *ngIf="emailIsDirty && f.email.errors.email">Email must be a valid email address</div>
                        </div>                        
                    </div>

                    <div class="form-group">
                        <label>Password</label>
<!--                         <input type="password" formControlName="password" class="form-control" (blur)="passwordLostFocus()" [ngClass]="{ 'is-invalid': passwordIsDirty && f.password.errors }" [(ngModel)]="password" [pattern]="^(?=.*[a-zA-Z])(?=.*[\W_]).{2}" />
 -->                        
 
<!--  <input type="password" formControlName="password" class="form-control" (blur)="passwordLostFocus()" [ngClass]="{ 'is-invalid': passwordIsDirty && f.password.errors }" [(ngModel)]="password" [pattern]="^(?=.*[a-zA-Z])(?=.*[!@#$%^&*?]).{2}" />
 --> 
<!--  <input type="password" formControlName="password" class="form-control" (blur)="passwordLostFocus()" [ngClass]="{ 'is-invalid': passwordIsDirty && f.password.errors }" [(ngModel)]="password" [pattern]="^(?=.*[a-zA-Z]).{1}" />
 --> 
<!--  <input type="password" formControlName="password" class="form-control" (blur)="passwordLostFocus()" [ngClass]="{ 'is-invalid': passwordIsDirty && f.password.errors }" [(ngModel)]="password" [pattern]="^(?=.[a-zA-Z]).{1}" />
 --> <input type="password" formControlName="password" class="form-control" (blur)="passwordLostFocus()" [ngClass]="{ 'is-invalid': passwordIsDirty && f.password.errors }" [(ngModel)]="password"  />
                     
<!--                         <input type="password" formControlName="password" class="form-control" (blur)="passwordLostFocus()" [ngClass]="{ 'is-invalid': passwordIsDirty && f.password.errors }" [(ngModel)]="password" [pattern]="passwordPattern"/>
 -->                        
<!--  <input type="password" formControlName="password" class="form-control" (blur)="passwordLostFocus()" [ngClass]="{ 'is-invalid': passwordIsDirty && f.password.errors }" [(ngModel)]="password" />
 -->                        <div *ngIf="passwordIsDirty && f.password.errors" class="invalid-feedback">
                            <div *ngIf="passwordIsDirty && f.password.errors.required">Password is required.</div>
                            <div *ngIf="passwordIsDirty && f.password.errors.minlength">Password must be at least 8 characters.</div>
                            <div *ngIf="passwordIsDirty && f.password.errors.pattern">Password must contain at least one letter and one special character.</div>
                    </div>
                    </div>

                    <div class="form-group">
                        <button class="widemargin btn btn-primary ">Register</button>
                        &nbsp;
                        <button class="widemargin btn btn-primary " (click)="onClear()" type="button">Clear</button>
                    </div>                    
 
                </form>

<router-outlet></router-outlet>
 <!-- Routed views go here -->

            </div>
        </div>
    </div>
</div>
